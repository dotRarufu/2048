(this.webpackJsonp2048=this.webpackJsonp2048||[]).push([[0],{10:function(e,n,t){},12:function(e,n,t){"use strict";t.r(n);var l=t(1),u=t.n(l),r=t(4),i=t.n(r),a=(t(9),t(2)),c=(t(10),t(0)),s=function(e){var n=e.i,t=e.value,l=e.newSquare;return Object(c.jsx)("div",{className:l?"square new":"bg-".concat({2:"555",4:"f26161",8:"f03939",16:"ea0909",32:"9a0707",64:"BCD2E8",128:"91BAD6",256:"73A5C6",512:"528AAE",1024:"2E5984",2048:"1aa260"}[t]," square"),children:t},n)};var o=function(){var e=Object(l.useState)(Array(16).fill(null)),n=Object(a.a)(e,2),t=n[0],u=n[1],r=Object(l.useState)(!1),i=Object(a.a)(r,2),o=i[0],p=i[1],v=Object(l.useState)([]),g=Object(a.a)(v,2),j=g[0],w=g[1],b=Object(l.useState)(null),O=Object(a.a)(b,2),x=O[0],m=O[1];function S(){var e=d(Array(16).fill(null),[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15]),n=(e.newSquares,e.finalSquareValues);u(n),w([]),m(null),p(!o)}return Object(l.useEffect)((function(){var e=[];function n(n){var l={w:"up",a:"left",s:"down",d:"right"}[n.key];if(!x&&(!e.includes(l)&&l&&e.push(l),l)){var r=t.slice(),i=[],a=[];if(r.forEach((function(e,n){if(e&&!i.includes(n)){var t=h[n][l].find((function(e){return r[e]})),u={squareValue:r[t],index:t};if(e===u.squareValue&&!i.includes(u.index))return r[u.index]+=e,r[n]=null,i.push(u.index),void a.push(!1);a.push(!0)}})),r.includes(1024))m("You win");else if(!r.includes(null)&&!a.includes(!1)&&4===e.length)return void m("Game over");for(var c=0,s=1;c<s;c+=1)f[l].forEach((function(e,n){var t=[],u=e.filter((function(e){return r[e]}));if(e.forEach((function(t,u){if(r[t]){var i=f[l][n];if(!r[i[u+1]]&&u!==e.length-1)return r[i[u+1]]=r[i[u]],r[i[u]]=null,void a.push(!1);a.push(!0)}})),0!==u.length){for(var i=e.length;i>e.length-u.length;i-=1)r[e[i-1]]?t.push(e[i-1]):t.push(!1);t.includes(!1)&&(s+=1)}}));if(a.includes(!1)){var o=[];r.forEach((function(e,n){null===e&&o.push(n)}));var p=d(r,o),v=p.newSquares,g=p.finalSquareValues;w(v),u(g)}}}return window.addEventListener("keypress",n),function(){window.removeEventListener("keypress",n)}}),[x,t,o]),Object(c.jsxs)("div",{className:"g-2048",children:[Object(c.jsxs)("div",{className:"top-row",children:[Object(c.jsx)("div",{onClick:S,className:"start-btn",children:"New game"}),Object(c.jsxs)("div",{className:"score",children:["Score: ",t.reduce((function(e,n){return e+n}),0)]})]}),Object(c.jsx)("div",{className:"board",style:x?{filter:"blur(2px)"}:{},children:function(){var e=[];return t.forEach((function(n,t){return e.push(Object(c.jsx)(s,{newSquare:!!j.includes(t),value:n},t))})),e}()}),x?Object(c.jsxs)("div",{className:"result",children:[Object(c.jsx)("div",{className:"status",children:x}),Object(c.jsx)("div",{onClick:S,className:"start-btn",children:"Play again"})]}):"",Object(c.jsxs)("footer",{children:["Created by skrr-tech, based on",Object(c.jsx)("a",{href:"https://play2048.co/",children:"play2048.co"})]})]})},f={up:[[12,8,4,0],[13,9,5,1],[14,10,6,2],[15,11,7,3]],down:[[0,4,8,12],[1,5,9,13],[2,6,10,14],[3,7,11,15]],left:[[3,2,1,0],[7,6,5,4],[11,10,9,8],[15,14,13,12]],right:[[0,1,2,3],[4,5,6,7],[8,9,10,11],[12,13,14,15]]};function d(e,n){var t=n.slice(),l=[],u=e.slice(),r=t[p(0,t.length-1)];16===n.length&&(u[(t=t.filter((function(e,n){return n!==r})))[p(0,t.length-1)]]=13===p(1,13)?4:2);return u[r]=13===p(1,13)?4:2,l.push(r),{newSquares:l,finalSquareValues:u}}var h={0:{up:[null],down:[4,8,12],right:[1,2,3],left:[null]},1:{up:[null],down:[5,9,13],right:[2,3],left:[0]},2:{up:[null],down:[6,10,14],right:[3],left:[1,0]},3:{up:[null],down:[7,11,15],right:[null],left:[2,1,0]},4:{up:[0],down:[8,12],right:[5,6,7],left:[null]},5:{up:[1],down:[9,13],right:[6,7],left:[4]},6:{up:[2],down:[10,14],right:[7],left:[5,4]},7:{up:[3],down:[11,15],right:[null],left:[6,5,4]},8:{up:[4,0],down:[12],right:[9,10,11],left:[null]},9:{up:[5,1],down:[13],right:[10,11],left:[8]},10:{up:[6,2],down:[14],right:[11],left:[9,8]},11:{up:[7,3],down:[15],right:[null],left:[10,9,8]},12:{up:[8,4,0],down:[null],right:[13,14,15],left:[null]},13:{up:[9,5,1],down:[null],right:[14,15],left:[12]},14:{up:[10,6,2],down:[null],right:[15],left:[13,12]},15:{up:[11,7,3],down:[null],right:[null],left:[14,13,12]}};function p(e,n){return Math.floor(Math.random()*(n-e+1)+e)}var v=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,13)).then((function(n){var t=n.getCLS,l=n.getFID,u=n.getFCP,r=n.getLCP,i=n.getTTFB;t(e),l(e),u(e),r(e),i(e)}))};i.a.render(Object(c.jsx)(u.a.StrictMode,{children:Object(c.jsx)(o,{})}),document.getElementById("root")),v()},9:function(e,n,t){}},[[12,1,2]]]);
//# sourceMappingURL=main.7d58bc9a.chunk.js.map